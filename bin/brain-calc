#!/usr/bin/env php
<?php

require_once __DIR__ . '/../vendor/autoload.php';
require_once __DIR__ . '/../src/Cli.php';
require_once __DIR__ . '/structure';

use function cli\line;

line('What is the result of the expression?');

function generate_questions_and_answers()
{
    $questions = [];
    $answers = [];

    for ($i = 0; $i < 3; $i++) {
        $number1 = rand(1, 10);
        $number2 = rand(1, 10);
        $operator = ['+', '-', '*'][array_rand(['+', '-', '*'])];
        $answer = eval("return $number1 $operator $number2;");
        $question = "$number1 $operator $number2";
        $questions[] = $question;
        $answers[] = (string) $answer;
    }

    return [$questions, $answers];
}

list($questions, $answers) = generate_questions_and_answers();
$result = play_game($questions, $answers);
line($result);
