#!/usr/bin/env php
<?php

require_once __DIR__  . '/../vendor/autoload.php';
require_once __DIR__  . '/../src/Cli.php';
require_once __DIR__  . '/../structure';

use function cli\line;

$TYPE_GAME = 'gcd';

function gcd($a, $b)
{
    while ($b != 0) {
        $temp = $b;
        $b = $a % $b;
        $a = $temp;
    }
    return $a;
}

function generate_questions_and_answers()
{
    $questions = [];
    $answers = [];

    for ($i = 0; $i < 3; $i++) {
        $number1 = rand(5, 30);
        $number2 = rand(5, 30);
        $question = "$number1 $number2";
        $answer = gcd($number1, $number2);
        $questions[] = $question;
        $answers[] = (string) $answer;
    }

    return ['questions' => $questions, 'answers' => $answers];
}

$questionsAndAnswers = generate_questions_and_answers();
start_game($questionsAndAnswers['questions'], $questionsAndAnswers['answers'], $TYPE_GAME);
